<div class="auth-container">
  <div class="auth-card">
    <div class="auth-header">
      <img src="/logo.png" alt="ChatCraft" class="logo">
      <h2>Welcome Back</h2>
      <p class="subtitle">Sign in to your ChatCraft account</p>
    </div>

    <!-- OAuth2 Error State -->
    <div *ngIf="hasOAuth2Error" class="oauth-error-message">
      <div class="error-icon">⚠️</div>
      <h3>Authentication Failed</h3>
      <p>{{oauthError}}</p>
      <div class="error-actions">
        <button (click)="retryLogin()" class="auth-btn primary">
          <span class="material-icons">refresh</span>
          Try Again
        </button>
      </div>
    </div>

    <!-- Manual Login State (from logout) -->
    <div *ngIf="isFromLogout && !hasOAuth2Error && !isLoading" class="manual-login-section">
      <div class="logout-message">
        <p>✅ You have been successfully logged out.</p>
      </div>
      <button (click)="initiateLogin()" class="auth-btn primary">
        <span class="material-icons">login</span>
        Sign In
      </button>
    </div>

    <!-- Loading State -->
    <div *ngIf="isLoading" class="redirecting-section">
      <div class="spinner"></div>
      <h3>Signing In</h3>
      <p class="message">Redirecting to authorization server...</p>
    </div>

    <!-- Auto-Redirecting State (normal access) -->
    <div *ngIf="!hasOAuth2Error && !isFromLogout && !isLoading" class="redirecting-section">
      <div class="spinner"></div>
      <h3>Redirecting to Login</h3>
      <p class="message">You will be redirected to the authorization server for authentication...</p>
      <small class="submessage">If you are not redirected automatically, <button (click)="initiateLogin()" class="link-btn">click here</button></small>
    </div>
  </div>

</div>
